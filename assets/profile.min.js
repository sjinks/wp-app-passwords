jQuery(function(n){var a=n("#ww-app-passwords"),o=a.find("#ww-app-pass-name"),r=a.find("#ww-add-new-pass-btn"),t=a.find("#create-new-app-pass"),w=a.find("#ww-app-passwords-table"),e=w.find("#ww-app-pass-revoke-all"),d=w.find("tbody"),i=d.find("tr.no-items"),c=n("#user_id").val(),l=doT.template(n("#tmpl-ww-new-app-pass").text()),f=doT.template(n("#tmpl-ww-app-pass-row").text()),p=doT.template(n("#tmpl-ww-app-pass-msg").text());function u(e,s){a.find("div.notice").remove(),t.before(p({type:e,message:s}))}function m(e,s,a){u("error",a?wwAppPass.ajaxError2+a:wwAppPass.ajaxError)}r.click(function(e){e.preventDefault();var p=o.val();p.length?(o.prop("disabled",!0),r.prop("disabled",!0),n.ajax({url:wwAppPass.rest_base+c,method:"POST",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wwAppPass.nonce)},data:{name:p}}).done(function(e,s,a){wwAppPass.nonce=a.getResponseHeader("X-WP-Nonce"),o.prop("disabled",!1),r.prop("disabled",!1),t.after(l({name:p,password:e.password})),d.prepend(f(e.row)),o.val(""),i.remove(),w.show()}).fail(m)):o.focus()}),d.on("click",".revoke button",function(e){if(e.preventDefault(),confirm(wwAppPass.revoke)){var s=n(e.target),p=s.closest("tr"),a=s.data("slug");n.ajax({url:wwAppPass.rest_base+c+"/"+a,method:"DELETE",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wwAppPass.nonce)}}).done(function(e,s,a){wwAppPass.nonce=a.getResponseHeader("X-WP-Nonce"),e?(p.siblings().length||w.hide(),p.remove(),u("success",wwAppPass.revokeOK)):u("error",wwAppPass.revokeError)}).fail(m)}}),e.click(function(e){e.preventDefault(),confirm(wwAppPass.revokeAll)&&n.ajax({url:wwAppPass.rest_base+c,method:"DELETE",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wwAppPass.nonce)}}).done(function(e,s,a){wwAppPass.nonce=a.getResponseHeader("X-WP-Nonce"),0<parseInt(e,10)?(d.children().remove(),w.hide(),u("success",wwAppPass.revokeAllOK)):u("error",wwAppPass.revokeAllError)}).fail(m)}),n(document).on("click",".ww-app-pass-modal-dismiss",function(e){e.preventDefault(),n(".new-application-password.notification-dialog-wrap").hide()}),0<i.length&&w.hide()});
//# sourceMappingURL=profile.min.js.map
