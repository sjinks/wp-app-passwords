jQuery(function(s){var a=s("#ww-app-passwords"),n=a.find("#ww-app-pass-name"),o=a.find("#ww-add-new-pass-btn"),r=a.find("#create-new-app-pass"),t=a.find("#ww-app-passwords-table"),e=t.find("#ww-app-pass-revoke-all"),w=t.find("tbody"),d=w.find("tr.no-items"),i=s("#user_id").val(),c=doT.template(s("#tmpl-ww-new-app-pass").text()),l=doT.template(s("#tmpl-ww-app-pass-row").text()),p=doT.template(s("#tmpl-ww-app-pass-msg").text());function f(e,s){a.find("div.notice").remove(),r.before(p({type:e,message:s}))}function u(e,s,a){f("error",a?wwAppPass.ajaxError2+a:wwAppPass.ajaxError)}o.click(function(e){e.preventDefault();var p=n.val();p.length?(n.prop("disabled",!0),o.prop("disabled",!0),s.ajax({url:wwAppPass.rest_base+i,method:"POST",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wwAppPass.nonce)},data:{name:p}}).done(function(e,s,a){wwAppPass.nonce=a.getResponseHeader("X-WP-Nonce"),n.prop("disabled",!1),o.prop("disabled",!1),r.after(c({name:p,password:e.password})),w.prepend(l(e.row)),n.val(""),d.remove(),t.show()}).fail(u)):n.focus()}),w.on("click",".revoke button",function(e){var p;e.preventDefault(),confirm(wwAppPass.revoke)&&(e=s(e.target),p=e.closest("tr"),e=e.data("slug"),s.ajax({url:wwAppPass.rest_base+i+"/"+e,method:"DELETE",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wwAppPass.nonce)}}).done(function(e,s,a){wwAppPass.nonce=a.getResponseHeader("X-WP-Nonce"),e?(p.siblings().length||t.hide(),p.remove(),f("success",wwAppPass.revokeOK)):f("error",wwAppPass.revokeError)}).fail(u))}),e.click(function(e){e.preventDefault(),confirm(wwAppPass.revokeAll)&&s.ajax({url:wwAppPass.rest_base+i,method:"DELETE",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",wwAppPass.nonce)}}).done(function(e,s,a){wwAppPass.nonce=a.getResponseHeader("X-WP-Nonce"),0<parseInt(e,10)?(w.children().remove(),t.hide(),f("success",wwAppPass.revokeAllOK)):f("error",wwAppPass.revokeAllError)}).fail(u)}),s(document).on("click",".ww-app-pass-modal-dismiss",function(e){e.preventDefault(),s(".new-application-password.notification-dialog-wrap").hide()}),0<d.length&&t.hide()});
//# sourceMappingURL=profile.min.js.map
